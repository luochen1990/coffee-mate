{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/browserify/node_modules/process/browser.js","global.min.js","node_modules/lazy.coffee/build/lazy.js","basics.coffee","coffee-mate.coffee","convertors.coffee","funny.coffee","global.coffee","reinforce.coffee","url-helpers.coffee","utils.coffee"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","drainQueue","draining","currentQueue","len","queue","noop","process","nextTick","fun","push","setTimeout","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","umask",2,"this_module","slice","arg","Iterator","LazyList","Symbol","all","any","best","brk","cartProd","concat","cons","drop","dropWhile","enumerate","filter","foldl","foreach","iterate","join","last","lazy","list","map","naturals","nil","permutation_gen","primes","random_gen","range","ranged_random_gen","ref","repeat","reverse","scanl","streak","take","takeWhile","zip","zipWith","iterator","toString","it","next","value","done","args","arguments","stop","start","step","x","p","Infinity","arr","Array","keys","Object","k","init","status","hash","Math","sin","floor","opts","seed","random","next_permutation","m","ref1","ls","json","xs","c","iter","ok","finished","j","prevx","ws","xs_unused","got","buf","shift","xss","xs_iter","len1","iters","results","apply","apply_vector","inc_vector","limits","len_minus_1","vec","space","get_value","inc","v","results1","better","all_not","callback","fruit","defineProperties","break","writable","configurable","enumerable",3,"abs","accept_multi_or_array","ceil","combine","curry2","curry3","equal","flip","greaterEqual","greaterThan","lessEqual","lessThan","max","max_index","min","min_index","minus","notEqual","pack","pluck","plus","precise","seek","sum","uncurry2","uncurry3","unpack","y","g","b","attr","d","parseFloat","toPrecision","first","this","lazy.coffee",4,"basics","convertors","funny","url_helpers","utils","extend","./basics","./convertors","./funny","./url-helpers","./utils",5,"bool","chr","float","hex","int","obj","ord","str","base","parseInt","test","charCodeAt","String","fromCharCode","indent","JSON","stringify","parse",6,"Y","church","memoize","get_key","cache","cached","key",7,"global","mate","self","window","./coffee-mate","./reinforce",8,"prototype","format","replace","pat","cut","start_pat","end_pat","search","substr","get","set","second","third","unique","splice","size","defaults","update","updates",9,"uri_decoder","uri_encoder","component_packer","encodeURIComponent","component_unpacker","ref2","match","decodeURIComponent",10,"assert","assertEq","assertEqOn","copy","deepcopy","dict","function_literal","log","override","securely","time_now","expr","Date","getTime","dye","factory","histories","log_label","cavailable","palette","NODE_DISABLE_COLORS","bold","red","green","yellow","blue","bold_grey","color","flag_palette","op_flag","#","I","E","W","op","toUpperCase","flag","prefix","ball","eval_result","start_time","time_used","console","info","warn","error","err","msg","Function","_error","lv","rv","flv","frv","pairs","cp","root","dep","depth","_d","fallback","_process"],"mappings":"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","file":"global.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",null,"(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar this_module,\n  slice = [].slice;\n\nthis_module = function(arg) {\n  var Iterator, LazyList, Symbol, all, any, best, brk, cartProd, concat, cons, drop, dropWhile, enumerate, filter, foldl, foreach, iterate, join, last, lazy, length, list, map, naturals, nil, permutation_gen, primes, random_gen, range, ranged_random_gen, ref, repeat, reverse, scanl, streak, take, takeWhile, zip, zipWith;\n  Symbol = arg.Symbol;\n  LazyList = function(f) {\n    f[Symbol.iterator] = function() {\n      return f();\n    };\n    f.toString = function() {\n      return \"LazyList\";\n    };\n    return f;\n  };\n  nil = LazyList(function() {\n    return nil;\n  });\n  nil.toString = function() {\n    return 'nil';\n  };\n  Iterator = function(it) {\n    it.next = function() {\n      var r;\n      r = it();\n      return {\n        value: r,\n        done: r === nil\n      };\n    };\n    it.toString = function() {\n      return \"Iterator\";\n    };\n    return it;\n  };\n  naturals = LazyList(function() {\n    var i;\n    i = -1;\n    return Iterator(function() {\n      return ++i;\n    });\n  });\n  range = function() {\n    var args;\n    args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n    if (args.length === 0) {\n      return naturals;\n    } else if (args.length === 1) {\n      return LazyList(function() {\n        var i, stop;\n        stop = args[0];\n        i = -1;\n        return Iterator(function() {\n          if (++i < stop) {\n            return i;\n          } else {\n            return nil;\n          }\n        });\n      });\n    } else if (args.length === 2) {\n      return LazyList(function() {\n        var i, start, stop;\n        start = args[0], stop = args[1];\n        if (start < stop) {\n          i = start - 1;\n          return Iterator(function() {\n            if (++i < stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        } else {\n          i = start + 1;\n          return Iterator(function() {\n            if (--i > stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        }\n      });\n    } else {\n      return LazyList(function() {\n        var i, start, step, stop;\n        start = args[0], stop = args[1], step = args[2];\n        if (stop !== start && (stop - start) * step < 0) {\n          throw 'ERR IN range(): YOU ARE CREATING AN UNLIMITTED RANGE';\n        }\n        i = start - step;\n        if (start < stop) {\n          return Iterator(function() {\n            if ((i += step) < stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        } else {\n          return Iterator(function() {\n            if ((i += step) > stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        }\n      });\n    }\n  };\n  primes = LazyList(function() {\n    return filter(function(x) {\n      return all(function(p) {\n        return x % p !== 0;\n      })(takeWhile(function(p) {\n        return p * p <= x;\n      })(range(2, Infinity)));\n    })(range(2, Infinity))();\n  });\n  lazy = function(arr) {\n    if (typeof arr === 'function') {\n      if (arr[Symbol.iterator] != null) {\n        return arr;\n      } else {\n        return LazyList(arr);\n      }\n    } else if (arr[Symbol.iterator] != null) {\n      return LazyList(function() {\n        var it;\n        it = arr[Symbol.iterator]();\n        return Iterator(function() {\n          var r;\n          r = it.next();\n          if (r.done) {\n            return nil;\n          } else {\n            return r.value;\n          }\n        });\n      });\n    } else {\n      return LazyList(function() {\n        var i;\n        i = -1;\n        return Iterator(function() {\n          i += 1;\n          if (i < arr.length) {\n            return arr[i];\n          } else {\n            return nil;\n          }\n        });\n      });\n    }\n  };\n  enumerate = function(it) {\n    if ((it[Symbol.iterator] != null) || it instanceof Array) {\n      return zip(naturals, it);\n    } else {\n      return LazyList(function() {\n        var i, keys;\n        keys = Object.keys(it);\n        i = -1;\n        return Iterator(function() {\n          var k;\n          if (++i < keys.length) {\n            return [(k = keys[i]), it[k]];\n          } else {\n            return nil;\n          }\n        });\n      });\n    }\n  };\n  repeat = function(x) {\n    return LazyList(function() {\n      return Iterator(function() {\n        return x;\n      });\n    });\n  };\n  iterate = function(next, init) {\n    return LazyList(function() {\n      var status;\n      status = init;\n      return Iterator(function() {\n        var last;\n        last = status;\n        status = next(status);\n        return last;\n      });\n    });\n  };\n  random_gen = (function() {\n    var hash;\n    hash = function(x) {\n      x = Math.sin(x) * 1e4;\n      return x - Math.floor(x);\n    };\n    return function(opts) {\n      var ref, seed;\n      seed = hash((ref = opts != null ? opts.seed : void 0) != null ? ref : Math.random());\n      return iterate(hash, seed);\n    };\n  })();\n  ranged_random_gen = function(range, opts) {\n    var ref, seed;\n    seed = (ref = opts != null ? opts.seed : void 0) != null ? ref : Math.random();\n    return map(function(x) {\n      return Math.floor(x * range);\n    })(random_gen({\n      seed: seed\n    }));\n  };\n  permutation_gen = (function() {\n    var next_permutation;\n    next_permutation = function(x) {\n      var l, m, r, ref, ref1;\n      x = x.slice(0);\n      l = x.length - 1;\n      while (l >= 1 && x[l] <= x[l - 1]) {\n        --l;\n      }\n      if (l !== 0) {\n        m = x.length - 1;\n        while (m > l - 1 && x[m] <= x[l - 1]) {\n          --m;\n        }\n        ref = [x[l - 1], x[m]], x[m] = ref[0], x[l - 1] = ref[1];\n      }\n      r = x.length - 1;\n      while (l < r) {\n        ref1 = [x[r], x[l]], x[l] = ref1[0], x[r] = ref1[1];\n        ++l;\n        --r;\n      }\n      return x;\n    };\n    return function(arr) {\n      if (arr.length === 0) {\n        return nil;\n      } else {\n        return cons(arr.slice(0))(takeWhile(function(ls) {\n          return json(ls) !== json(arr);\n        })(drop(1)(iterate(next_permutation, arr))));\n      }\n    };\n  })();\n  take = function(n) {\n    return function(xs) {\n      return LazyList(function() {\n        var c, iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        c = -1;\n        return Iterator(function() {\n          if (++c < n) {\n            return iter();\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n  };\n  takeWhile = function(ok) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          if ((x = iter()) !== nil && ok(x)) {\n            return x;\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n  };\n  drop = function(n) {\n    return function(xs) {\n      return LazyList(function() {\n        var finished, i, iter, j, ref;\n        iter = lazy(xs)[Symbol.iterator]();\n        finished = false;\n        for (i = j = 0, ref = n; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n          finished || (finished = iter() === nil);\n          if (finished) {\n            break;\n          }\n        }\n        if (finished) {\n          return function() {\n            return nil;\n          };\n        } else {\n          return iter;\n        }\n      });\n    };\n  };\n  dropWhile = function(ok) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter, x;\n        iter = lazy(xs)[Symbol.iterator]();\n        while (ok(x = iter()) && x !== nil) {\n          null;\n        }\n        return Iterator(function() {\n          var prevx, ref;\n          ref = [x, iter()], prevx = ref[0], x = ref[1];\n          return prevx;\n        });\n      });\n    };\n  };\n  cons = function(x) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter;\n        iter = null;\n        return Iterator(function() {\n          if (iter === null) {\n            iter = lazy(xs)[Symbol.iterator]();\n            return x;\n          } else {\n            return iter();\n          }\n        });\n      });\n    };\n  };\n  concat = function(ws) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter, xs_unused;\n        xs_unused = true;\n        iter = lazy(ws)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          if (xs_unused) {\n            if ((x = iter()) !== nil) {\n              return x;\n            } else {\n              iter = lazy(xs)[Symbol.iterator]();\n              xs_unused = false;\n              return iter();\n            }\n          } else {\n            return iter();\n          }\n        });\n      });\n    };\n  };\n  map = function(f) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          if ((x = iter()) !== nil) {\n            return f(x);\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n  };\n  filter = function(ok) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          while (!ok(x = iter()) && x !== nil) {\n            null;\n          }\n          return x;\n        });\n      });\n    };\n  };\n  scanl = function(f, r) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var got, x;\n          got = r;\n          r = (x = iter()) !== nil ? f(r, x) : nil;\n          return got;\n        });\n      });\n    };\n  };\n  streak = function(n) {\n    return function(xs) {\n      return LazyList(function() {\n        var buf, iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        buf = [];\n        return Iterator(function() {\n          var x;\n          if ((x = iter()) === nil) {\n            return nil;\n          }\n          buf.push(x);\n          if (buf.length > n) {\n            buf.shift(1);\n          }\n          return buf.slice(0);\n        });\n      });\n    };\n  };\n  reverse = function(xs) {\n    var arr;\n    arr = list(lazy(xs));\n    return lazy(arr.reverse());\n  };\n  join = function(xss) {\n    return LazyList(function() {\n      var iter, xs, xs_iter;\n      xs_iter = lazy(xss)[Symbol.iterator]();\n      xs = xs_iter();\n      iter = lazy(xs)[Symbol.iterator]();\n      return Iterator(function() {\n        var x;\n        if ((x = iter()) !== nil) {\n          return x;\n        } else if ((xs = xs_iter()) !== nil) {\n          iter = lazy(xs)[Symbol.iterator]();\n          return iter();\n        } else {\n          return nil;\n        }\n      });\n    });\n  };\n  ref = (function() {\n    var finished, zip, zipWith;\n    finished = function(arr) {\n      var j, len1, x;\n      for (j = 0, len1 = arr.length; j < len1; j++) {\n        x = arr[j];\n        if (x === nil) {\n          return true;\n        }\n      }\n      return false;\n    };\n    zip = function() {\n      var xss;\n      xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      return LazyList(function() {\n        var iters, xs;\n        iters = (function() {\n          var j, len1, results;\n          results = [];\n          for (j = 0, len1 = xss.length; j < len1; j++) {\n            xs = xss[j];\n            results.push(lazy(xs)[Symbol.iterator]());\n          }\n          return results;\n        })();\n        return Iterator(function() {\n          var iter, next;\n          next = (function() {\n            var j, len1, results;\n            results = [];\n            for (j = 0, len1 = iters.length; j < len1; j++) {\n              iter = iters[j];\n              results.push(iter());\n            }\n            return results;\n          })();\n          if (finished(next)) {\n            return nil;\n          } else {\n            return next;\n          }\n        });\n      });\n    };\n    zipWith = function(f) {\n      return function() {\n        var xss;\n        xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return LazyList(function() {\n          var iters, xs;\n          iters = (function() {\n            var j, len1, results;\n            results = [];\n            for (j = 0, len1 = xss.length; j < len1; j++) {\n              xs = xss[j];\n              results.push(lazy(xs)[Symbol.iterator]());\n            }\n            return results;\n          })();\n          return Iterator(function() {\n            var iter, next;\n            next = (function() {\n              var j, len1, results;\n              results = [];\n              for (j = 0, len1 = iters.length; j < len1; j++) {\n                iter = iters[j];\n                results.push(iter());\n              }\n              return results;\n            })();\n            if (finished(next)) {\n              return nil;\n            } else {\n              return f.apply(null, next);\n            }\n          });\n        });\n      };\n    };\n    return {\n      zip: zip,\n      zipWith: zipWith\n    };\n  })(), zip = ref.zip, zipWith = ref.zipWith;\n  cartProd = (function() {\n    var apply_vector, inc_vector;\n    inc_vector = function(limits) {\n      var len_minus_1;\n      len_minus_1 = limits.length - 1;\n      return function(vec) {\n        var i;\n        i = len_minus_1;\n        while (!(++vec[i] < limits[i] || i <= 0)) {\n          vec[i--] = 0;\n        }\n        return vec;\n      };\n    };\n    apply_vector = function(space) {\n      var len;\n      len = space.length;\n      return function(vec) {\n        var i, j, ref1, results;\n        results = [];\n        for (i = j = 0, ref1 = len; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {\n          results.push(space[i][vec[i]]);\n        }\n        return results;\n      };\n    };\n    return function() {\n      var xss;\n      xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      return LazyList(function() {\n        var get_value, i, inc, j, len, len1, limits, v, xs;\n        xss = (function() {\n          var j, len1, results;\n          results = [];\n          for (j = 0, len1 = xss.length; j < len1; j++) {\n            xs = xss[j];\n            results.push(list(xs));\n          }\n          return results;\n        })();\n        limits = (function() {\n          var j, ref1, results;\n          results = [];\n          for (i = j = 0, ref1 = xss.length; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {\n            results.push(xss[i].length);\n          }\n          return results;\n        })();\n        for (j = 0, len1 = limits.length; j < len1; j++) {\n          len = limits[j];\n          if (len === 0) {\n            return nil;\n          }\n        }\n        inc = inc_vector(limits);\n        get_value = apply_vector(xss);\n        v = (function() {\n          var o, ref1, results;\n          results = [];\n          for (i = o = 0, ref1 = xss.length; 0 <= ref1 ? o < ref1 : o > ref1; i = 0 <= ref1 ? ++o : --o) {\n            results.push(0);\n          }\n          return results;\n        })();\n        return Iterator(function() {\n          var r;\n          if (v[0] < limits[0]) {\n            r = get_value(v);\n            inc(v);\n            return r;\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n  })();\n  list = function(xs) {\n    var it, n, results, results1, x;\n    if (xs instanceof Array) {\n      return xs;\n    } else if (typeof xs === 'function') {\n      it = xs[Symbol.iterator]();\n      results = [];\n      while ((x = it()) !== nil) {\n        results.push(x);\n      }\n      return results;\n    } else if (xs[Symbol.iterator] != null) {\n      it = lazy(xs)[Symbol.iterator]();\n      results1 = [];\n      while ((x = it()) !== nil) {\n        results1.push(x);\n      }\n      return results1;\n    } else if (typeof xs === 'number') {\n      n = xs;\n      return function(xs) {\n        return list(take(n)(xs));\n      };\n    } else {\n      throw Error('list(xs): xs is neither LazyList nor Array');\n    }\n  };\n  last = function(xs) {\n    var iter, r, ref1, x;\n    if (xs[Symbol.iterator] == null) {\n      return (ref1 = xs[xs.length - 1]) != null ? ref1 : nil;\n    } else {\n      iter = lazy(xs)[Symbol.iterator]();\n      r = nil;\n      while ((x = iter()) !== nil) {\n        r = x;\n      }\n      return r;\n    }\n  };\n  length = function(xs) {\n    var iter, r, x;\n    if (xs[Symbol.iterator] == null) {\n      return xs.length;\n    } else {\n      iter = lazy(xs)[Symbol.iterator]();\n      r = 0;\n      while ((x = iter()) !== nil) {\n        ++r;\n      }\n      return r;\n    }\n  };\n  foldl = function(f, init) {\n    return function(xs) {\n      var iter, r, x;\n      r = init;\n      iter = lazy(xs)[Symbol.iterator]();\n      while ((x = iter()) !== nil) {\n        r = f(r, x);\n      }\n      return r;\n    };\n  };\n  best = function(better) {\n    return function(xs) {\n      var it, iter, r;\n      iter = lazy(xs)[Symbol.iterator]();\n      if ((r = iter()) === nil) {\n        return null;\n      }\n      while ((it = iter()) !== nil) {\n        r = better(it, r) ? it : r;\n      }\n      return r;\n    };\n  };\n  all = function(f) {\n    if (typeof f !== 'function') {\n      f = (function(x) {\n        return x === f;\n      });\n    }\n    return function(xs) {\n      var iter, x;\n      iter = lazy(xs)[Symbol.iterator]();\n      while ((x = iter()) !== nil) {\n        if (!f(x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n  };\n  any = function(f) {\n    var all_not;\n    all_not = all(function(x) {\n      return !f(x);\n    });\n    return function(xs) {\n      return !(all_not(xs));\n    };\n  };\n  brk = function() {\n    return brk;\n  };\n  brk.toString = function() {\n    return 'foreach.break';\n  };\n  foreach = function(xs, callback, fruit) {\n    var iter, x;\n    iter = lazy(xs)[Symbol.iterator]();\n    while ((x = iter()) !== nil) {\n      if (callback(x, fruit) === brk) {\n        break;\n      }\n    }\n    return fruit;\n  };\n  Object.defineProperties(foreach, {\n    \"break\": {\n      writable: false,\n      configurable: false,\n      enumerable: false,\n      value: brk\n    }\n  });\n  return {\n    nil: nil,\n    LazyList: LazyList,\n    Iterator: Iterator,\n    Symbol: Symbol,\n    naturals: naturals,\n    range: range,\n    primes: primes,\n    lazy: lazy,\n    enumerate: enumerate,\n    repeat: repeat,\n    iterate: iterate,\n    random_gen: random_gen,\n    ranged_random_gen: ranged_random_gen,\n    permutation_gen: permutation_gen,\n    cons: cons,\n    concat: concat,\n    map: map,\n    filter: filter,\n    take: take,\n    takeWhile: takeWhile,\n    drop: drop,\n    dropWhile: dropWhile,\n    scanl: scanl,\n    streak: streak,\n    reverse: reverse,\n    join: join,\n    zip: zip,\n    zipWith: zipWith,\n    cartProd: cartProd,\n    list: list,\n    last: last,\n    length: length,\n    foldl: foldl,\n    best: best,\n    all: all,\n    any: any,\n    foreach: foreach\n  };\n};\n\nmodule.exports = this_module({\n  Symbol: typeof Symbol !== \"undefined\" && Symbol !== null ? Symbol : {\n    iterator: 'iter'\n  }\n});\n\n\n\n},{}]},{},[1])\n\n\n//# sourceMappingURL=lazy.js.map","this_module = ({best}) ->\n\t# transformers\n\tflip = (f) ->\n\t\t(x) -> (y) -> f(y)(x)\n\n\tcombine = (f) -> (g) ->\n\t\t(x) -> f g(x)\n\n\tcurry2 = (f) ->\n\t\t(a) -> (b) -> f(a, b)\n\n\tcurry3 = (f) ->\n\t\t(a) -> (b) -> (c) -> f(a, b, c)\n\n\tuncurry2 = (f) ->\n\t\t(a, b) -> f(a)(b)\n\n\tuncurry3 = (f) ->\n\t\t(a, b, c) -> f(a)(b)(c)\n\n\tpack = (f) ->\n\t\t(arr) -> f(arr...)\n\n\tunpack = (f) ->\n\t\t(arr...) -> f(arr)\n\n\t# seek & pluck in Array or Object\n\tseek = (arr) ->\n\t\t(i) -> arr[i]\n\n\tpluck = (attr) ->\n\t\t(d) -> d[attr]\n\n\t# compare\n\tequal = (it) ->\n\t\t(x) -> x == it\n\n\tnotEqual = (it) ->\n\t\t(x) -> x != it\n\n\tlessThan = (it) ->\n\t\t(x) -> x < it\n\n\tgreaterThan = (it) ->\n\t\t(x) -> x > it\n\n\tlessEqual = (it) ->\n\t\t(x) -> x <= it\n\n\tgreaterEqual = (it) ->\n\t\t(x) -> x >= it\n\n\t# math\n\tplus = (it) ->\n\t\t(x) -> x + it\n\n\tminus = (it) ->\n\t\t(x) -> x - it\n\n\tabs = Math.abs\n\tfloor = Math.floor\n\tceil = Math.ceil\n\n\tprecise = (n) ->\n\t\t(x) -> parseFloat x.toPrecision(n)\n\n\taccept_multi_or_array = (f) ->\n\t\t(arr...) ->\n\t\t\tf(if arr.length == 1 and arr.first instanceof Array then arr.first else arr)\n\n\tsum = accept_multi_or_array (arr) ->\n\t\tarr = arr.first if arr.length == 1 and arr.first instanceof Array\n\t\tr = 0\n\t\tr += x for x in arr\n\t\tr\n\n\tmax = accept_multi_or_array (arr) ->\n\t\tbest((a, b) -> a > b) arr\n\n\tmin = accept_multi_or_array (arr) ->\n\t\tbest((a, b) -> a < b) arr\n\n\tmax_index = accept_multi_or_array (arr) ->\n\t\tbest((i, j) -> arr[i] > arr[j]) [0...arr.length]\n\n\tmin_index = accept_multi_or_array (arr) ->\n\t\tbest((i, j) -> arr[i] < arr[j]) [0...arr.length]\n\n\treturn {\n\t\tflip, combine,\n\t\tcurry2, curry3, uncurry2, uncurry3, pack, unpack,\n\t\tseek, pluck,\n\t\tequal, notEqual, lessThan, lessEqual, greaterThan, greaterEqual,\n\t\tplus, minus, abs, floor, ceil, precise,\n\t\tsum, max, min, max_index, min_index,\n\t}\n\nmodule.exports = this_module\n\tbest: require('lazy.coffee').best\n\n","utils = require './utils'\nbasics = require './basics'\nlazy = require 'lazy.coffee'\nfunny = require './funny'\nconvertors = require './convertors'\nurl_helpers = require './url-helpers'\n\nmodule.exports = utils.extend({}) utils, basics, lazy, funny, convertors, url_helpers\n\n","this_module = () ->\n\tint = (s, base) -> if typeof(s) == 'string' then (r = parseInt(s, base); unless s.slice? and r == parseInt(s.slice(0,-1), base) then r else null) else parseInt(0 + s)\n\tfloat = (s) -> if /^-?[0-9]*(\\.[0-9]+)?([eE]-?[0-9]+)?$/.test(s) then parseFloat(s) else null\n\tstr = (x, base) -> x.toString(base)\n\tbool = (x) -> if x in [true, false] then x else null\n\thex = (x) -> x.toString(16)\n\tord = (c) -> c.charCodeAt()\n\tchr = (x) -> String.fromCharCode(x)\n\tjson = (it, indent) -> JSON.stringify(it, null, indent)\n\tobj = (s) -> JSON.parse(s)\n\n\treturn {\n\t\tint, float, bool, str, hex, ord, chr, json, obj,\n\t}\n\nmodule.exports = this_module()\n\n","this_module = () ->\n\tchurch = (n) -> #the nth church number\n\t\titer = (f, n, r) ->\n\t\t\tif n == 0 then r else iter(f, n - 1, f(r))\n\t\t(f) ->\n\t\t\t(x) -> iter(f, n + 0, x)\n\n\tY = (f) -> #the Y combinator\n\t\t((x) -> (x x)) ((x) -> (f ((y) -> ((x x) y))))\n\n\tmemoize = (f, get_key = ((args...) -> json(args))) ->\n\t\tcache = {}\n\t\t(args...) ->\n\t\t\tkey = get_key(args...)\n\t\t\tcached = cache[key]\n\t\t\tif cached?\n\t\t\t\tcached\n\t\t\telse\n\t\t\t\tr = f(args...)\n\t\t\t\tcache[key] = r\n\t\t\t\tr\n\n\treturn {\n\t\tchurch, Y, memoize,\n\t}\n\nmodule.exports = this_module()\n\n","require './reinforce'\nmate = require('./coffee-mate')\nglobal[k] = v for k, v of mate\n","this_module = ({String, Array, Object}) ->\n\t# reinforce String\n\n\tObject.defineProperties String.prototype,\n\t\tformat:\n\t\t\tenumerable: false\n\t\t\tvalue: (args) ->\n\t\t\t\t@.replace /\\{(\\w+)\\}/g, (m, i) -> if args[i]? then args[i] else m\n\t\trepeat:\n\t\t\tenumerable: false\n\t\t\tvalue: (n) ->\n\t\t\t\t[r, pat] = ['', @]\n\t\t\t\twhile n > 0\n\t\t\t\t\tr += pat if n & 1\n\t\t\t\t\tn >>= 1\n\t\t\t\t\tpat += pat\n\t\t\t\treturn r\n\t\tcut:\n\t\t\tenumerable: false\n\t\t\tvalue: (start_pat, end_pat) ->\n\t\t\t\ti = @.search(start_pat) + 1\n\t\t\t\treturn null if i == 0\n\t\t\t\tj = @.substr(i).search(end_pat)\n\t\t\t\treturn null if j == -1\n\t\t\t\t@.substr(i, j)\n\n\t# reinforce Array\n\n\tObject.defineProperties Array.prototype,\n\t\tfirst:\n\t\t\tget: -> @[0]\n\t\t\tset: (v) -> @[0] = v\n\t\tsecond:\n\t\t\tget: -> @[1]\n\t\t\tset: (v) -> @[1] = v\n\t\tthird:\n\t\t\tget: -> @[2]\n\t\t\tset: (v) -> @[2] = v\n\t\tlast:\n\t\t\tget: -> @[@length - 1]\n\t\t\tset: (v) -> @[@length - 1] = v\n\t\trepeat:\n\t\t\tenumerable: false\n\t\t\tvalue: (n) ->\n\t\t\t\t[r, pat] = [[], @]\n\t\t\t\twhile n > 0\n\t\t\t\t\tr = r.concat(pat) if n & 1\n\t\t\t\t\tn >>= 1\n\t\t\t\t\tpat = pat.concat(pat)\n\t\t\t\treturn r\n\t\tunique:\n\t\t\tenumerable: false\n\t\t\tvalue: do ->\n\t\t\t\tinit = new Object\n\t\t\t\t(equal)->\n\t\t\t\t\ti = 0\n\t\t\t\t\tt = init\n\t\t\t\t\tif not equal?\n\t\t\t\t\t\tfor x, j in @ when x != t\n\t\t\t\t\t\t\t@[i] = t = x\n\t\t\t\t\t\t\ti += 1\n\t\t\t\t\telse\n\t\t\t\t\t\tfor x, j in @ when t is init or not equal(x, t)\n\t\t\t\t\t\t\t@[i] = t = x\n\t\t\t\t\t\t\ti += 1\n\t\t\t\t\t@splice(i, Infinity)\n\t\t\t\t\treturn @\n\n\t# reinforce Object\n\n\tObject.defineProperties Object,\n\t\tsize:\n\t\t\tenumerable: false\n\t\t\tvalue: (d) -> Object.keys(d).length\n\t\textend:\n\t\t\tenumerable: false\n\t\t\tvalue: (base, defaults...) -> #NOTE: modified inplace, use copy() to protect it.\n\t\t\t\tfor d in defaults when d?\n\t\t\t\t\tbase[k] ?= v for k, v of d #NOTE: null values will be replaced if a default value exists.\n\t\t\t\treturn base\n\t\tupdate:\n\t\t\tenumerable: false\n\t\t\tvalue: (base, updates...) -> #NOTE: modified inplace, use copy() to protect it.\n\t\t\t\tfor d in updates when d?\n\t\t\t\t\tbase[k] = v for k, v of d\n\t\t\t\treturn base\n\n\treturn {\n\t\tString, Array, Object\n\t}\n\nmodule.exports = this_module {String, Array, Object}\n","this_module = () ->\n\turi_encoder = (component_packer = str) ->\n\t\t(obj) ->\n\t\t\t(\"#{encodeURIComponent(k)}=#{encodeURIComponent component_packer v}\" for k, v of obj).join('&')\n\n\turi_decoder = (component_unpacker = ((s) -> s)) ->\n\t\t(str) ->\n\t\t\td = {}\n\t\t\tfor s in (str.match /[^?=&]+=[^&]*/g) ? []\n\t\t\t\t[..., k, v] = s.match /([^=]+)=(.*)/\n\t\t\t\td[decodeURIComponent(k)] = (component_unpacker decodeURIComponent v)\n\t\t\treturn d\n\n\treturn {\n\t\turi_encoder, uri_decoder,\n\t}\n\nmodule.exports = this_module()\n\n","this_module = () ->\n\tfunction_literal = (f) ->\n\t\texpr = f.toString().replace(/^\\s*function\\s?\\(\\s?\\)\\s?{\\s*return\\s*([^]*?);?\\s*}$/, '$1')\n\t\texpr = expr.replace(/[\\r\\n]{1,2}\\s*/g, '') if expr.length <= 100\n\t\treturn expr\n\n\ttime_now = ->\n\t\t(new Date).getTime()\n\n\tlog = do -> #log an expression with it's literal and time used\n\t\tdye = do ->\n\t\t\t# ANSI Terminal Colors.\n\t\t\tcavailable = (not window?) and process? and not process.env.NODE_DISABLE_COLORS\n\t\t\tpalette =\n\t\t\t\tbold: '\\x1B[0;1m'\n\t\t\t\tred: '\\x1B[0;31m'\n\t\t\t\tgreen: '\\x1B[0;32m'\n\t\t\t\tyellow: '\\x1B[0;33m'\n\t\t\t\tblue: '\\x1B[0;34m'\n\t\t\t\tbold_grey: '\\x1B[1;30m'\n\t\t\tif not cavailable\n\t\t\t\t(color) -> (s) -> s\n\t\t\telse\n\t\t\t\t(color) ->\n\t\t\t\t\t(s) -> \"#{palette[color]}#{s}#{'\\x1B[0m'}\"\n\n\t\tlog_label = do ->\n\t\t\tflag_palette =\n\t\t\t\t'#': 'bold_grey'\n\t\t\t\t'I': 'green'\n\t\t\t\t'E': 'red'\n\t\t\t\t'W': 'yellow'\n\t\t\top_flag = (op) ->\n\t\t\t\tif op == 'log' then '#' else op[0].toUpperCase()\n\t\t\t(op) ->\n\t\t\t\tflag = op_flag(op)\n\t\t\t\tdye(flag_palette[flag]) flag\n\n\t\thistories = []\n\t\tfactory = (op) ->\n\t\t\tprefix = \"#{dye('bold_grey') '#'}#{log_label op}\"\n\t\t\t(args...) ->\n\t\t\t\tball = []\n\t\t\t\tfor f in args\n\t\t\t\t\tif typeof f == 'function'\n\t\t\t\t\t\texpr = function_literal(f)\n\t\t\t\t\t\tstart_time = time_now()\n\t\t\t\t\t\teval_result = f()\n\t\t\t\t\t\ttime_used = time_now() - start_time\n\t\t\t\t\t\tball.push(\"#{prefix} #{dye('green') expr} #{dye('bold_grey') '==>'}\", eval_result)\n\t\t\t\t\t\tball.push(dye('yellow') \"[#{time_used}ms]\") if time_used > 0\n\t\t\t\t\telse\n\t\t\t\t\t\tball.push(\"#{prefix}\", f)\n\t\t\t\tconsole[op] ball...\n\t\t\t\thistories.push(ball)\n\t\t\t\thistories.shift() if histories.length >= 10\n\t\t\t\treturn null\n\t\tgot = factory('log')\n\t\tgot.histories = histories\n\t\tgot.info = factory('info')\n\t\tgot.warn = factory('warn')\n\t\tgot.error = got.err = factory('error')\n\t\treturn got\n\n\tassert = (f, msg) ->\n\t\t[f, msg] = [msg, f] if f not instanceof Function\n\t\ttry\n\t\t\tr = f()\n\t\tcatch e\n\t\t\tthrow Error \"Assertion #{msg ? function_literal(f)} Unknown:\\n#{e}\"\n\t\tif not r\n\t\t\tthrow Error \"Assertion #{msg ? function_literal(f)} Failed!\"\n\n\tassertEq = (l, r) ->\n\t\ttry\n\t\t\tlv = l()\n\t\t\trv = r()\n\t\tcatch e\n\t\t\tthrow Error \"Equation Between #{function_literal(l)} And #{function_literal(r)} Unknown:\\n#{e}\"\n\t\tif lv isnt rv\n\t\t\tthrow Error \"Equation Failed:\\n\\t#{function_literal(l)} IS #{lv} BUT\\n\\t#{function_literal(r)} IS #{rv}.\"\n\n\tassertEqOn = (f) -> (l, r) ->\n\t\ttry\n\t\t\tlv = l()\n\t\t\trv = r()\n\t\t\tflv = f(lv)\n\t\t\tfrv = f(rv)\n\t\tcatch e\n\t\t\tthrow Error \"MAPPED Equation Between #{function_literal(l)} And #{function_literal(r)} Unknown:\\n#{e}\"\n\t\tif flv isnt frv\n\t\t\tthrow Error \"Equation Failed:\\n\\t#{function_literal(l)} IS #{lv} AND MAPPED TO #{flv} BUT\\n\\t#{function_literal(r)} IS #{rv} AND MAPPED TO #{frv}.\"\n\n\tsecurely = (f) -> # ensure a function not to modify it's arguments\n\t\t(args...) ->\n\t\t\targs = deepcopy args\n\t\t\tf(args...)\n\n\tdict = (pairs) -> #for dict comprehensions\n\t\td = {}\n\t\td[k] = v for [k, v] in pairs\n\t\treturn d\n\n\t{copy, deepcopy} = do ->\n\t\tcp = (root, dep) ->\n\t\t\treturn root if dep == 0 or not root? or typeof(root) != 'object'\n\t\t\tif root instanceof Array\n\t\t\t\tr = (cp(v, dep-1) for v in root)\n\t\t\telse\n\t\t\t\tr = {}\n\t\t\t\tr[k] = cp(v, dep-1) for k, v of root\n\t\t\treturn r\n\t\tcopy: (obj, depth=1) -> cp(obj, depth)\n\t\tdeepcopy: (obj, depth=Infinity) -> cp(obj, depth)\n\n\textend = (base) -> (defaults...) -> #NOTE: modified inplace, use copy() to protect it.\n\t\tfor d in defaults when d?\n\t\t\tbase[k] ?= v for k, v of d #NOTE: null values will be replaced if a default value exists.\n\t\treturn base\n\n\tupdate = (base) -> (updates...) -> #NOTE: modified inplace, use copy() to protect it.\n\t\tfor d in updates when d?\n\t\t\tbase[k] = v for k, v of d\n\t\treturn base\n\n\toverride = (_d) ->\n\t\td = copy _d\n\t\tfallback = d['_']\n\t\tif fallback?\n\t\t\t(args...) ->\n\t\t\t\t(d[args.length] ? fallback) args...\n\t\telse\n\t\t\t(args...) ->\n\t\t\t\tf = d[args.length]\n\t\t\t\tif not f?\n\t\t\t\t\tthrow Error \"This Function Can't Accept #{args.length} Args\"\n\t\t\t\telse\n\t\t\t\t\treturn f args...\n\n\treturn {\n\t\tlog, assert, assertEq, assertEqOn, dict, copy, deepcopy, securely, extend, update, override,\n\t}\n\nmodule.exports = this_module()\n\n"],"sourceRoot":"/source/"}